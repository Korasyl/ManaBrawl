[gd_scene format=3 uid="uid://dsrxhfap0ucu5"]

[ext_resource type="Script" uid="uid://b48wi5kqmdndm" path="res://scripts/visuals/crayola_rig.gd" id="1_rig"]
[ext_resource type="Texture2D" uid="uid://cyxkufsdvf5ye" path="res://sprites/crayola/bodyparts/Crayola_Stomach.png" id="2_stomach"]
[ext_resource type="Texture2D" uid="uid://bv2dkdaxmkob6" path="res://sprites/crayola/bodyparts/Crayola_Chest.png" id="3_chest"]
[ext_resource type="Texture2D" uid="uid://bccmb32jbh4el" path="res://sprites/crayola/bodyparts/Crayola_Neck.png" id="4_neck"]
[ext_resource type="Texture2D" uid="uid://denulrhybbsr3" path="res://sprites/crayola/bodyparts/Crayola_Head.png" id="5_head"]
[ext_resource type="Texture2D" uid="uid://cadhmv0tdse4k" path="res://sprites/crayola/bodyparts/Crayola_Front_Leg.png" id="6_fleg"]
[ext_resource type="Texture2D" uid="uid://e0saynpb8wue" path="res://sprites/crayola/bodyparts/Crayola_Front_Foot.png" id="7_ffoot"]
[ext_resource type="Texture2D" uid="uid://6rqfe1ewruq" path="res://sprites/crayola/bodyparts/Crayola_Back_Leg.png" id="8_bleg"]
[ext_resource type="Texture2D" uid="uid://mqyy3r3hteyd" path="res://sprites/crayola/bodyparts/Crayola_Back_Foot.png" id="9_bfoot"]
[ext_resource type="Texture2D" uid="uid://dblakvp84nuti" path="res://sprites/crayola/bodyparts/Crayola_Front_Arm.png" id="10_farm"]
[ext_resource type="Texture2D" uid="uid://crfjx25d7638c" path="res://sprites/crayola/bodyparts/Crayola_Front_Hand.png" id="11_fhand"]
[ext_resource type="Texture2D" uid="uid://qcw1dqkpejp6" path="res://sprites/crayola/bodyparts/Crayola_Back_Arm.png" id="12_barm"]
[ext_resource type="Texture2D" uid="uid://c6doc67hmr6er" path="res://sprites/crayola/bodyparts/Crayola_Back_Hand.png" id="13_bhand"]

[sub_resource type="Animation" id="Animation_arm_hip_rest"]
resource_name = "arm_hip_rest"
loop_mode = 1

[sub_resource type="Animation" id="Animation_arm_wand_ready"]
resource_name = "arm_wand_ready"
loop_mode = 1

[sub_resource type="Animation" id="Animation_idle"]
resource_name = "idle"
loop_mode = 1

[sub_resource type="Animation" id="Animation_oneshot_heavy_attack"]
resource_name = "oneshot_heavy_attack"
length = 0.45

[sub_resource type="Animation" id="Animation_oneshot_light_attack"]
resource_name = "oneshot_light_attack"
length = 0.3

[sub_resource type="Animation" id="Animation_arm_fencer_offhand"]
resource_name = "arm_fencer_offhand"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/FrontArmPivot:rotation")
tracks/0/interp = 2
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [2.3, 2.35, 2.3]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/FrontArmPivot/FrontForearmPivot:rotation")
tracks/1/interp = 2
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [-1.6, -1.65, -1.6]
}

[sub_resource type="Animation" id="Animation_oneshot_wand_cast_1"]
resource_name = "oneshot_wand_cast_1"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/BackArmPivot:rotation")
tracks/0/interp = 1
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.07, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 0.5, 3, 1.5),
"update": 0,
"values": [-1.0, -0.85, -1.25, -1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/BackArmPivot/BackForearmPivot:rotation")
tracks/1/interp = 1
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.07, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 0.5, 3, 1.5),
"update": 0,
"values": [-0.2, 0.3, -0.6, -0.2]
}

[sub_resource type="Animation" id="Animation_oneshot_wand_cast_2"]
resource_name = "oneshot_wand_cast_2"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/BackArmPivot:rotation")
tracks/0/interp = 1
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.08, 0.17, 0.3),
"transitions": PackedFloat32Array(1, 0.5, 3, 1.5),
"update": 0,
"values": [-1.0, -0.65, -1.5, -1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/BackArmPivot/BackForearmPivot:rotation")
tracks/1/interp = 1
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.08, 0.17, 0.3),
"transitions": PackedFloat32Array(1, 0.5, 3, 1.5),
"update": 0,
"values": [-0.2, 0.4, -0.7, -0.2]
}

[sub_resource type="Animation" id="Animation_oneshot_wand_cast_3"]
resource_name = "oneshot_wand_cast_3"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/BackArmPivot:rotation")
tracks/0/interp = 1
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.09, 0.18, 0.3),
"transitions": PackedFloat32Array(1, 0.5, 3.5, 1.5),
"update": 0,
"values": [-1.0, -0.5, -1.6, -1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Skeleton2D/StomachPivot/ChestPivot/BackArmPivot/BackForearmPivot:rotation")
tracks/1/interp = 1
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.09, 0.18, 0.3),
"transitions": PackedFloat32Array(1, 0.5, 3.5, 1.5),
"update": 0,
"values": [-0.2, 0.5, -0.85, -0.2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1"]
_data = {
&"arm_fencer_offhand": SubResource("Animation_arm_fencer_offhand"),
&"arm_hip_rest": SubResource("Animation_arm_hip_rest"),
&"arm_wand_ready": SubResource("Animation_arm_wand_ready"),
&"idle": SubResource("Animation_idle"),
&"oneshot_heavy_attack": SubResource("Animation_oneshot_heavy_attack"),
&"oneshot_light_attack": SubResource("Animation_oneshot_light_attack"),
&"oneshot_wand_cast_1": SubResource("Animation_oneshot_wand_cast_1"),
&"oneshot_wand_cast_2": SubResource("Animation_oneshot_wand_cast_2"),
&"oneshot_wand_cast_3": SubResource("Animation_oneshot_wand_cast_3")
}

[node name="CrayolaRig" type="Node2D"]
script = ExtResource("1_rig")
aim_vertical_compensation = 14.0

[node name="Skeleton2D" type="Skeleton2D" parent="."]

[node name="StomachPivot" type="Bone2D" parent="Skeleton2D"]
auto_calculate_length_and_angle = false
bone_angle = -1.5708
length = 10.0
rest = Transform2D(1, 0, 0, 1, 0, -25)
position = Vector2(0, -25)

[node name="Stomach" type="Sprite2D" parent="Skeleton2D/StomachPivot"]
z_index = 4
position = Vector2(-5, -16)
texture = ExtResource("2_stomach")
centered = false

[node name="ChestPivot" type="Bone2D" parent="Skeleton2D/StomachPivot"]
auto_calculate_length_and_angle = false
bone_angle = -1.695
length = 8.06
rest = Transform2D(1, 0, 0, 1, 0, 0)

[node name="Chest" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot"]
z_index = 6
position = Vector2(-5, -16)
texture = ExtResource("3_chest")
centered = false

[node name="NeckPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/ChestPivot"]
auto_calculate_length_and_angle = false
bone_angle = -1.5708
length = 2.0
rest = Transform2D(1, 0, 0, 1, -1, -8)
position = Vector2(-1, -8)

[node name="Neck" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot/NeckPivot"]
z_index = 5
position = Vector2(-4, -8)
texture = ExtResource("4_neck")
centered = false

[node name="HeadPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/ChestPivot/NeckPivot"]
auto_calculate_length_and_angle = false
bone_angle = -1.5708
length = 10.0
rest = Transform2D(1, 0, 0, 1, 0, -2)
position = Vector2(0, -2)

[node name="Head" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot/NeckPivot/HeadPivot"]
z_index = 7
position = Vector2(-4, -6)
texture = ExtResource("5_head")
centered = false

[node name="FrontArmPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/ChestPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.695
length = 8.06
rest = Transform2D(1, 0, 0, 1, -3, -8)
position = Vector2(-3, -8)

[node name="FrontUpperArm" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot/FrontArmPivot"]
z_index = 11
position = Vector2(-2, -8)
texture = ExtResource("10_farm")
centered = false

[node name="FrontForearmPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/ChestPivot/FrontArmPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.5708
length = 8.0
rest = Transform2D(1, 0, 0, 1, -1, 8)
position = Vector2(-1, 8)

[node name="FrontHand" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot/FrontArmPivot/FrontForearmPivot"]
z_index = 10
position = Vector2(-1, -16)
texture = ExtResource("11_fhand")
centered = false

[node name="FrontHandWeaponAnchor" type="Node2D" parent="Skeleton2D/StomachPivot/ChestPivot/FrontArmPivot/FrontForearmPivot"]
position = Vector2(0.3, 8)

[node name="BackArmPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/ChestPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.446
length = 8.06
rest = Transform2D(1, 0, 0, 1, 2, -8)
position = Vector2(2, -8)

[node name="BackUpperArm" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot/BackArmPivot"]
position = Vector2(-7, -8)
texture = ExtResource("12_barm")
centered = false

[node name="BackForearmPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/ChestPivot/BackArmPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.5708
length = 8.0
rest = Transform2D(1, 0, 0, 1, 1, 8)
position = Vector2(1, 8)

[node name="BackHand" type="Sprite2D" parent="Skeleton2D/StomachPivot/ChestPivot/BackArmPivot/BackForearmPivot"]
z_index = 1
position = Vector2(-8, -16)
texture = ExtResource("13_bhand")
centered = false

[node name="BackHandWeaponAnchor" type="Node2D" parent="Skeleton2D/StomachPivot/ChestPivot/BackArmPivot/BackForearmPivot"]
position = Vector2(1, 8)

[node name="FrontLegPivot" type="Bone2D" parent="Skeleton2D/StomachPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.695
length = 8.06
rest = Transform2D(1, 0, 0, 1, -1, 6)
position = Vector2(-1, 6)

[node name="FrontLeg" type="Sprite2D" parent="Skeleton2D/StomachPivot/FrontLegPivot"]
z_index = 9
position = Vector2(-4, -22)
texture = ExtResource("6_fleg")
centered = false

[node name="FrontFootPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/FrontLegPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.5708
length = 6.0
rest = Transform2D(1, 0, 0, 1, -1, 8)
position = Vector2(-1, 8)

[node name="FrontFoot" type="Sprite2D" parent="Skeleton2D/StomachPivot/FrontLegPivot/FrontFootPivot"]
z_index = 8
position = Vector2(-3, -30)
texture = ExtResource("7_ffoot")
centered = false

[node name="BackLegPivot" type="Bone2D" parent="Skeleton2D/StomachPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.5708
length = 7.0
rest = Transform2D(1, 0, 0, 1, 2, 7)
position = Vector2(2, 7)

[node name="BackLeg" type="Sprite2D" parent="Skeleton2D/StomachPivot/BackLegPivot"]
z_index = 3
position = Vector2(-7, -23)
texture = ExtResource("8_bleg")
centered = false

[node name="BackFootPivot" type="Bone2D" parent="Skeleton2D/StomachPivot/BackLegPivot"]
auto_calculate_length_and_angle = false
bone_angle = 1.5708
length = 6.0
rest = Transform2D(1, 0, 0, 1, 0, 7)
position = Vector2(0, 7)

[node name="BackFoot" type="Sprite2D" parent="Skeleton2D/StomachPivot/BackLegPivot/BackFootPivot"]
z_index = 2
position = Vector2(-7, -30)
texture = ExtResource("9_bfoot")
centered = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries/ = SubResource("AnimationLibrary_1")
